<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Hangman Game</title>
    <link rel="stylesheet" type="text/css" href="style.css">

  </head>
<body>
<h1> <img src="http://www.mightycrusaders.net/images/hangman_title_lg.gif"></h1>



<div id="game"> 
<h2>Current Word</h2>
      <div id ="money"></div>
      <div id ="dancing-baby"></div>
      <div id ="dancing-baby2"></div>
       <div id ="win-lose-message"></div>

</div>

<div id="block">

<div id="WordGuessed">        
<h3>Letters Guessed</h3>
<div id="guess"> </div>
<div id="response"></div>
</div>


<div id="GuessesRemaining">
<h4>Guesses Remaining</h4>
<div id="WrongGuess"></div>
</div>

</div>


<script>

    var wordArray = ["beatles","eagles","prince"];

   var randomWord= wordArray[Math.floor(Math.random() * wordArray.length)];

   // this is the chosen word sepearted into letters
   var chosenWord= Array.from(randomWord);

   var dashesArray= [];

   var GuessesRemaining = 6;

   var guessedLetters = [];

   var wrongLetters = [];

   var countMatches= 0;



confirm("Are You Ready");



function PlayAgain(){
  var x = confirm("Would you like to play Again?");
  if( x === true){
    Restart();
 }
}

  function Restart(){
   randomWord= wordArray[Math.floor(Math.random() * wordArray.length)];
   dashesArray = [];
   chosenWord= Array.from(randomWord);
   GuessesRemaining = 6;
   guessedLetters = [];
   countMatches=0;
  CreateDashes();
  };


function CreateDashes(){
  
  for(i=0; i<chosenWord.length;i++){
    
    var b=  dashesArray.push(" _");

    console.log(dashesArray.join(""));

  };

  document.getElementById("money").innerHTML = dashesArray.join(""); 
 document.getElementById("WrongGuess").innerHTML= 6;

};  

CreateDashes();


console.log(chosenWord)

console.log('The array length of choseWord is ' + chosenWord.length);
console.log('The array length of dashesArray is ' + dashesArray.length);
console.log(dashesArray);
// Some console logs before you click to compare the both arrays lengths, make sure they're equal


document.onkeyup = function(event) {  ///onkey function
    //debugger;
    var keypress = event.key;
    var matches =[];
    for(var f = chosenWord.splice(0); f.length > 0;){
      var index= f.indexOf(keypress);
    
      if(index !==-1){
        matches.push(index);
         f= f.splice(index+1);
      }
else{
f = [];
}
    }

      



    if(matches.length !== 0){
      for(var i=0; i<matches.length;i++){
        var indexInArray = matches[i];
        dashesArray[indexInArray] = keypress;
      }
      document.getElementById("money").innerHTML = dashesArray.join("")
      countMatches = countMatches+ matches.length;


       if(countMatches === chosenWord.length){
          console.log("we got this... baby");
           document.getElementById("money").innerHTML = dashesArray.join(""); 
          setTimeout(PlayAgain, 1000);
          document.getElementById("win-lose-message").innerHTML="You Win"; 
        }


        guessedLetters.push(keypress);

        document.getElementById("response").innerHTML="Correct!"; 
        document.getElementById("dancing-baby").innerHTML= '<img src="http://computemidwest.com/news/content/images/2016/09/90s-gifs-dancing-baby.gif">';
        document.getElementById("dancing-baby2").innerHTML= '<img src="http://computemidwest.com/news/content/images/2016/09/90s-gifs-dancing-baby.gif">';  
        
    }



else {

      GuessesRemaining--;
            if(GuessesRemaining === 0){  //if guesses equal 0 you lose
            PlayAgain();
           document.getElementById("win-lose-message").innerHTML="You Lose"; 
             }

      // this pushes the key you pressed to an array and displays that array, code a way to check for repeat letter clicks
      guessedLetters.push(keypress);
      document.getElementById("guess").innerHTML= guessedLetters; 
      document.getElementById("response").innerHTML=""; 
      document.getElementById("WrongGuess").innerHTML= GuessesRemaining;
      document.getElementById("dancing-baby").innerHTML= ""
      document.getElementById("dancing-baby2").innerHTML= ""
      }




//   if(chosenWord.indexOf(keypress) !== -1){
        
//         // this code identifies the index and uses the same index to replace _ with the letter and then display on screen
//         var indexInArray = chosenWord.indexOf(keypress);
//         dashesArray[indexInArray] = keypress;
//         document.getElementById("money").innerHTML = dashesArray.join(""); 


//         //r
//         console.log( chosenWord.indexOf(keypress));

//       console.log(typeof dashesArray + "," + dashesArray);
//       console.log(typeof chosenWord + "," + chosenWord);
      
//       var countMatches = 0;
     
//        for(var i = 0; i < chosenWord.length; i++){
//       if(chosenWord[i] === dashesArray[i]){
//         countMatches++;
       
//       }
//     }


//     if(countMatches === chosenWord.length){
//       console.log("we got this... baby");
//        document.getElementById("money").innerHTML = dashesArray.join(""); 
//       setTimeout(PlayAgain, 1000);
//       document.getElementById("win-lose-message").innerHTML="You Win"; 
//     }

//     if(dashesArray === chosenWord){  //if player guesses the entire word
//     PlayAgain();
//     document.getElementById("win-lose-message").innerHTML="You Win"; 
       


//         // this pushes the key you pressed to an array and displays that array, code a way to check for repeat letter clicks
//         guessedLetters.push(keypress);
       
// }
//         document.getElementById("response").innerHTML="Correct!"; 
//         document.getElementById("dancing-baby").innerHTML= '<img src="http://computemidwest.com/news/content/images/2016/09/90s-gifs-dancing-baby.gif">';
//         document.getElementById("dancing-baby2").innerHTML= '<img src="http://computemidwest.com/news/content/images/2016/09/90s-gifs-dancing-baby.gif">';  
//         }
   
//      else {

//       GuessesRemaining--;
//             if(GuessesRemaining === 0){  //if guesses equal 0 you lose
//             PlayAgain();
//            document.getElementById("win-lose-message").innerHTML="You Lose"; 
//              }

//       // this pushes the key you pressed to an array and displays that array, code a way to check for repeat letter clicks
//       guessedLetters.push(keypress);
//       document.getElementById("guess").innerHTML= guessedLetters; 
//       document.getElementById("response").innerHTML=""; 
//       document.getElementById("WrongGuess").innerHTML= GuessesRemaining;
//       document.getElementById("dancing-baby").innerHTML= ""
//       document.getElementById("dancing-baby2").innerHTML= ""
//       }



}; // end of onekeyUp function



 

</script>


 </body>

</html>